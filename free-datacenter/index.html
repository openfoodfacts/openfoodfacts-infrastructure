
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../folksonomy/">
      
      
        <link rel="next" href="../linux-server/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Free Datacenter - Open Food Facts Infrastructure documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#free-datacenter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Open Food Facts Infrastructure documentation" class="md-header__button md-logo" aria-label="Open Food Facts Infrastructure documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Open Food Facts Infrastructure documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Free Datacenter
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/openfoodfacts/openfoodfacts-infrastructure" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Open Food Facts Infrastructure documentation" class="md-nav__button md-logo" aria-label="Open Food Facts Infrastructure documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Open Food Facts Infrastructure documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/openfoodfacts/openfoodfacts-infrastructure" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        OpenFoodFacts Infrastructure
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cicd/" class="md-nav__link">
        Continous Integration and Continuous Delivery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../discourse/" class="md-nav__link">
        Discourse
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        Docker at Open Food Facts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker_architecture/" class="md-nav__link">
        Docker architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker_onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../folksonomy/" class="md-nav__link">
        Folksonomy API
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Free Datacenter
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Free Datacenter
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    Location
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servers" class="md-nav__link">
    Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipmi" class="md-nav__link">
    IPMI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network" class="md-nav__link">
    Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disks" class="md-nav__link">
    Disks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#off2-configuration" class="md-nav__link">
    off2 configuration
  </a>
  
    <nav class="md-nav" aria-label="off2 configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bios-settings" class="md-nav__link">
    BIOS settings
  </a>
  
    <nav class="md-nav" aria-label="BIOS settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slot-bifurcation" class="md-nav__link">
    Slot bifurcation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perc-adapter" class="md-nav__link">
    PERC adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idrac-ipmi-settings" class="md-nav__link">
    IDRAC / IPMI settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network_1" class="md-nav__link">
    Network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../linux-server/" class="md-nav__link">
        Linux server
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mail/" class="md-nav__link">
        Mail on Open Food Facts infrastructure
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../matomo/" class="md-nav__link">
        Matomo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mongodb/" class="md-nav__link">
        MongoDB
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nginx-reverse-proxy/" class="md-nav__link">
        NGINX Reverse proxy (OVH)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../observability/" class="md-nav__link">
        Observability
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../odoo/" class="md-nav__link">
        Odoo: our relationship management (connect.openfoodfacts.org)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../open-pet-food-facts/" class="md-nav__link">
        Open Pet Food Facts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../prod-architecture/" class="md-nav__link">
        Production architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../producers_sftp/" class="md-nav__link">
        Producers SFTP
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../promox/" class="md-nav__link">
        Proxmox
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sanoid/" class="md-nav__link">
        Sanoid
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../slackin/" class="md-nav__link">
        auto Slack invitation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zammad/" class="md-nav__link">
        Zammad
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../zfs-overview/" class="md-nav__link">
        ZFS overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_24" >
      
      
      
        <label class="md-nav__link" for="__nav_24" id="__nav_24_label" tabindex="0">
          Reports
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_24_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_24">
          <span class="md-nav__icon md-icon"></span>
          Reports
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2021-02-22-matomo-install/" class="md-nav__link">
        Matomo install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2021-10-03-network-down/" class="md-nav__link">
        [Postmortem] OpenFoodFacts.net down (#1)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2021-12-21-disk-extension/" class="md-nav__link">
        Disk extension for preprod and containers prod (ovh2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2021-12-22-preprod-crash/" class="md-nav__link">
        Preprod crash 2021 12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-02-18-ovh-reverse-proxy-down/" class="md-nav__link">
        [Postmortem] Reverse proxy down
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-02-proxmox-mail-gateway-install/" class="md-nav__link">
        Install of proxmox gateway server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-02-remove-containers-ovh1/" class="md-nav__link">
        2022-02 Removing some containers on ovh1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-03-03-zammad-elasticsearch-not-running/" class="md-nav__link">
        Elasticsearch not running on Zammad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-03-off2-PCI-NVMe-problems/" class="md-nav__link">
        2022-03 Problem with PCI supporting NVMe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-07-08-journey-to-deploy-off-search/" class="md-nav__link">
        Deploying openfoodfacts-search to staging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-07-11-infra-workshop/" class="md-nav__link">
        Infrastructure future - workshop on 11th July 2022
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-07-kibana-down-es-circuit-breaking-exception/" class="md-nav__link">
        Kibana down because of Elasticsearch circuit_breaking_exception
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-08-17-openfoodfacts-net-unreachable/" class="md-nav__link">
        2022-08-17 openfoodfacts.net unreachable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2022-11-09-monitoring-move-to-own-vm/" class="md-nav__link">
        2022-11 moving monitoring to its own machine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-02-13-zammad-down/" class="md-nav__link">
        2023-02-13 Zammad down
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-02-16-off2-shutdown/" class="md-nav__link">
        2023 02 16 off2 shutdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-02-17-off2-upgrade/" class="md-nav__link">
        2023-02-17 Off2 Upgrade
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-02-24-zfs-introduction/" class="md-nav__link">
        2023 02 24 zfs introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-03-14-off2-opff-reinstall/" class="md-nav__link">
        2023-03 OFF2 reinstall - opff migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-04-27-moving-docker-stagging-to-ovh1/" class="md-nav__link">
        2023-04-27 moving docker staging to OVH1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-05-12-refresh-staging-clones/" class="md-nav__link">
        2022-05-12 refresh staging clones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-05-19-overload-of-osm-machine/" class="md-nav__link">
        2023-05-18 Mongodb down
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-05-23-move-images-to-zfs/" class="md-nav__link">
        2023-05-23 move Images to ZFS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reports/2023-06-01-robotoff-backups/" class="md-nav__link">
        2023-06-01 Robotoff backups
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    Location
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servers" class="md-nav__link">
    Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipmi" class="md-nav__link">
    IPMI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network" class="md-nav__link">
    Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disks" class="md-nav__link">
    Disks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#off2-configuration" class="md-nav__link">
    off2 configuration
  </a>
  
    <nav class="md-nav" aria-label="off2 configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bios-settings" class="md-nav__link">
    BIOS settings
  </a>
  
    <nav class="md-nav" aria-label="BIOS settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#slot-bifurcation" class="md-nav__link">
    Slot bifurcation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perc-adapter" class="md-nav__link">
    PERC adapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idrac-ipmi-settings" class="md-nav__link">
    IDRAC / IPMI settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network_1" class="md-nav__link">
    Network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="free-datacenter">Free Datacenter<a class="headerlink" href="#free-datacenter" title="Permanent link">#</a></h1>
<p><a href="https://www.fondation-free.fr/">Fondation Free</a> is graciously providing us hosting for two servers: off1 and off2.
They also provide network and electricity for free.</p>
<h2 id="location">Location<a class="headerlink" href="#location" title="Permanent link">#</a></h2>
<p>Those servers are located is Bezon, near Paris. To go there we need to ask to the team there.</p>
<p>The two servers are piled one above another (off2 on top).
It's a bay with different Open Source projects' servers.
They have at small label on them "Open Food Facts"</p>
<h2 id="servers">Servers<a class="headerlink" href="#servers" title="Permanent link">#</a></h2>
<p>Those are DELL servers.</p>
<p>On the back side of server cover you find some useful instructions.</p>
<p><a class="glightbox" href="../img/2023-02-free-dc-instructions-on-server-cover.jpg" data-type="image" data-width="100%" data-height="auto" data-title="Server cover" data-desc-position="bottom"><img alt="Server cover" src="../img/2023-02-free-dc-instructions-on-server-cover.jpg" title="Instructions on the server cover" width="50%" /></a></p>
<p>To switch a server off, plug a screen and keyboard or use ssh, login and use shutdown command.</p>
<p>The server switch on button is on the front panel, a small ‚èº button on the right.</p>
<p>There is a double plug for power supply. A small velcro helps keeps plugs in place.</p>
<p><a class="glightbox" href="../img/2023-02-free-dc-plugs-velcro.jpg" data-type="image" data-width="100%" data-height="auto" data-title="Plugs velcro" data-desc-position="bottom"><img alt="Plugs velcro" src="../img/2023-02-free-dc-plugs-velcro.jpg" title="A small velcro maintains plugs in place" width="50%" /></a></p>
<p>There is a blue led if all is ok (on the front and on the back). If something is wrong it turns to orange and blinks. (it will be the case for example if cover is not on the server).</p>
<p>You can make the LED blink to identify the server by a button on the left on the front side of the server.</p>
<h2 id="ipmi">IPMI<a class="headerlink" href="#ipmi" title="Permanent link">#</a></h2>
<p>IPMI enables rebooting the server through the network.</p>
<p>Connecting to 213.36.253.209 with a browser or ssh we get access to an emergency console on the machine. (note: it uses a self signed certificate).</p>
<p>It has to be configured with the right static network configuration in BIOS to be able to work (see below)</p>
<h2 id="network">Network<a class="headerlink" href="#network" title="Permanent link">#</a></h2>
<p>We have three network physical interface on each server:</p>
<ul>
<li>one dedicated to ipmi</li>
<li>one for internal network - on a dedicated small switch between OFF and OSM machines</li>
<li>one for public network</li>
</ul>
<p><a class="glightbox" href="../img/2023-02-free-dc-ethernet.jpg" data-type="image" data-width="100%" data-height="auto" data-title="Ethernet cables" data-desc-position="bottom"><img alt="Ethernet cables" src="../img/2023-02-free-dc-ethernet.jpg" title="The three eternet cables on the server" width="50%" /></a></p>
<h2 id="disks">Disks<a class="headerlink" href="#disks" title="Permanent link">#</a></h2>
<p>SATA Disks are on the front panel. You just have to push a small red button, it makes a small handle comes out and you can rack them out.</p>
<p>We had to use Dell SATA disks because otherwise there maybe compatibility issues (this is one of the limitation of DELL servers).</p>
<p>SSDs are in the back of the server (extension card)</p>
<h2 id="off2-configuration">off2 configuration<a class="headerlink" href="#off2-configuration" title="Permanent link">#</a></h2>
<p>off2.openfoodfacts.org</p>
<ul>
<li>4x14Tb disks</li>
<li>2x2TB SSD</li>
<li>1x1TB SSD</li>
<li>1x60GB <a href="https://en.wikipedia.org/wiki/3D_XPoint">optane disk</a></li>
</ul>
<p>Optane disk are as fast as flash drives but without being sensitive to rewrites (no limited life).</p>
<p>The 14Tb disks are in a ZFS pool mounted as RAID 1 (rpool)</p>
<p>Since Feb. 2023, off2 uses <a href="../promox/">Proxmox</a>.</p>
<h3 id="bios-settings">BIOS settings<a class="headerlink" href="#bios-settings" title="Permanent link">#</a></h3>
<h4 id="slot-bifurcation">Slot bifurcation<a class="headerlink" href="#slot-bifurcation" title="Permanent link">#</a></h4>
<p>This is to specify how the PCI card supporting SSD will work (16 port divided in 4x4).</p>
<p>In System BIOS / Integrated devices / Slot bifurcation: <em>Auto discovery of bifurcation</em></p>
<h4 id="perc-adapter">PERC adapter<a class="headerlink" href="#perc-adapter" title="Permanent link">#</a></h4>
<p>PERC Adapter Bios (Power Edge RAID Controller) is set to be  <em>HBA mode</em> for we use ZFS and don't want system RAID.</p>
<h4 id="idrac-ipmi-settings">IDRAC / IPMI settings<a class="headerlink" href="#idrac-ipmi-settings" title="Permanent link">#</a></h4>
<p>Those settings are in the BIOS settings.
They enable a distant reboot of the server through a specific interface.</p>
<ul>
<li>disable DHCP and auto-discovery</li>
<li>Static IP address: 213.36.253.209</li>
<li>Gateway: 213.36.253.222</li>
<li>Subnet Mask: 255.255.255.224</li>
<li>Static DNS: 213.36.253.10</li>
<li>Static Alter: 213.36.252.131</li>
</ul>
<h3 id="network_1">Network<a class="headerlink" href="#network_1" title="Permanent link">#</a></h3>
<p>Apart from the IDRAC address, off2 has the 213.36.253.208 IP address.</p>
<p>We also have 213.36.253.214 which is dedicated to the <a href="../nginx-reverse-proxy/">NGINX reverse proxmox</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>